(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){

var ko = require('knockout');
var inherits = require('util').inherits;
var components = require('ungit-components');
var Promise = require('bluebird');
var programEvents = require('ungit-program-events');

components.register('formdialog', function(args) {
  return new FormDialogViewModel(args.title);
});

components.register('credentialsdialog', function(args) {
  return new CredentialsDialogViewModel();
});

components.register('addremotedialog', function(args) {
  return new AddRemoteDialogViewModel();
});

components.register('addsubmoduledialog', function(args) {
  return new AddSubmoduleDialogViewModel();
});

components.register('promptdialog', function(args) {
  return new PromptDialogViewModel(args.title, args.details);
});

components.register('yesnodialog', function(args) {
  return new YesNoDialogViewModel(args.title, args.details);
});

components.register('yesnomutedialog', function(args) {
  return new YesNoMuteDialogViewModel(args.title, args.details);
});

components.register('TooManyFilesDialogViewModel', function(args) {
  return new TooManyFilesDialogViewModel(args.title, args.details);
});

function DialogViewModel(title) {
  var self = this;
  this.onclose = null;
  this.title = ko.observable(title);
  this.taDialogName = ko.observable('');
  this.closePromise = new Promise(function(resolve) {
    self.onclose = resolve;
  });
}
DialogViewModel.prototype.closeThen = function(thenFunc) {
  this.closePromise = this.closePromise.then(thenFunc);
  return this;
}
DialogViewModel.prototype.setCloser = function(closer) {
  this.close = closer;
}
DialogViewModel.prototype.show = function() {
  programEvents.dispatch({ event: 'request-show-dialog', dialog: this });
  return this;
}

function FormDialogViewModel(title) {
  DialogViewModel.call(this, title);
  this.items = ko.observable([]);
  this.isSubmitted = ko.observable(false);
  this.showCancel = ko.observable(true);
}
inherits(FormDialogViewModel, DialogViewModel);
FormDialogViewModel.prototype.template = 'formDialog';
FormDialogViewModel.prototype.submit = function() {
  this.isSubmitted(true);
  this.close();
}


function CredentialsDialogViewModel() {
  FormDialogViewModel.call(this);
  this.title('Remote requires authentication');
  this.taDialogName('credentials-dialog');
  this.showCancel(false);
  this.username = ko.observable();
  this.password = ko.observable();
  this.items([
    { name: 'Username', value: this.username, placeholder: 'Username', type: 'text', autofocus: true, taName: 'username' },
    { name: 'Password', value: this.password, placeholder: 'Password', type: 'password', autofocus: false, taName: 'password' }
  ]);
}
inherits(CredentialsDialogViewModel, FormDialogViewModel);


function AddRemoteDialogViewModel() {
  FormDialogViewModel.call(this);
  this.title('Add new remote');
  this.taDialogName('add-remote');
  this.name = ko.observable();
  this.url = ko.observable();
  this.items([
    { name: 'Name', value: this.name, placeholder: 'Name', type: 'text', autofocus: true, taName: 'name' },
    { name: 'Url', value: this.url, placeholder: 'Url', type: 'text', autofocus: false, taName: 'url' }
  ]);
}
inherits(AddRemoteDialogViewModel, FormDialogViewModel);

function AddSubmoduleDialogViewModel() {
  FormDialogViewModel.call(this);
  this.title('Add new submodule');
  this.taDialogName('add-submodule');
  this.path = ko.observable();
  this.url = ko.observable();
  this.items([
    { name: 'Path', value: this.path, placeholder: 'Path', type: 'text', autofocus: true, taName: 'path' },
    { name: 'Url', value: this.url, placeholder: 'Url', type: 'text', autofocus: false, taName: 'url' }
  ]);
}
inherits(AddSubmoduleDialogViewModel, FormDialogViewModel);

function PromptDialogViewModel(title, details) {
  DialogViewModel.call(this, title);
  this.alternatives = ko.observable();
  this.details = ko.observable(details);
}
inherits(PromptDialogViewModel, DialogViewModel);
PromptDialogViewModel.prototype.template = 'prompt';

function YesNoDialogViewModel(title, details) {
  PromptDialogViewModel.call(this, title, details);
  var self = this;
  this.taDialogName('yes-no-dialog');
  this.result = ko.observable(false);
  this.alternatives([
    { label: 'Yes', primary: true, taId: 'yes', click: function() { self.result(true); self.close(); } },
    { label: 'No', primary: false, taId: 'no', click: function() { self.result(false); self.close(); } },
  ]);
}
inherits(YesNoDialogViewModel, PromptDialogViewModel);

function YesNoMuteDialogViewModel(title, details) {
  PromptDialogViewModel.call(this, title, details);
  var self = this;
  this.taDialogName('yes-no-mute-dialog');
  this.result = ko.observable(false);
  this.alternatives([
    { label: 'Yes', primary: true, taId: 'yes', click: function() { self.result(true); self.close(); } },
    { label: 'Yes and mute for awhile', primary: false, taId: 'mute', click: function() { self.result("mute"); self.close(); } },
    { label: 'No', primary: false, taId: 'no', click: function() { self.result(false); self.close(); } }
  ]);
}
inherits(YesNoMuteDialogViewModel, PromptDialogViewModel);

function TooManyFilesDialogViewModel(title, details) {
  PromptDialogViewModel.call(this, title, details);
  var self = this;
  this.taDialogName('yes-no-dialog');
  this.result = ko.observable(false);
  this.alternatives([
    { label: "Don't load", primary: true, taId: 'noLoad', click: function() { self.result(false); self.close(); } },
    { label: 'Load anyway', primary: false, taId: 'loadAnyway', click: function() { self.result(true); self.close(); } },
  ]);
}
inherits(TooManyFilesDialogViewModel, PromptDialogViewModel);

},{"bluebird":undefined,"knockout":"knockout","ungit-components":"ungit-components","ungit-program-events":"ungit-program-events","util":undefined}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJjb21wb25lbnRzL2RpYWxvZ3MvZGlhbG9ncy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIlxudmFyIGtvID0gcmVxdWlyZSgna25vY2tvdXQnKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ3V0aWwnKS5pbmhlcml0cztcbnZhciBjb21wb25lbnRzID0gcmVxdWlyZSgndW5naXQtY29tcG9uZW50cycpO1xudmFyIFByb21pc2UgPSByZXF1aXJlKCdibHVlYmlyZCcpO1xudmFyIHByb2dyYW1FdmVudHMgPSByZXF1aXJlKCd1bmdpdC1wcm9ncmFtLWV2ZW50cycpO1xuXG5jb21wb25lbnRzLnJlZ2lzdGVyKCdmb3JtZGlhbG9nJywgZnVuY3Rpb24oYXJncykge1xuICByZXR1cm4gbmV3IEZvcm1EaWFsb2dWaWV3TW9kZWwoYXJncy50aXRsZSk7XG59KTtcblxuY29tcG9uZW50cy5yZWdpc3RlcignY3JlZGVudGlhbHNkaWFsb2cnLCBmdW5jdGlvbihhcmdzKSB7XG4gIHJldHVybiBuZXcgQ3JlZGVudGlhbHNEaWFsb2dWaWV3TW9kZWwoKTtcbn0pO1xuXG5jb21wb25lbnRzLnJlZ2lzdGVyKCdhZGRyZW1vdGVkaWFsb2cnLCBmdW5jdGlvbihhcmdzKSB7XG4gIHJldHVybiBuZXcgQWRkUmVtb3RlRGlhbG9nVmlld01vZGVsKCk7XG59KTtcblxuY29tcG9uZW50cy5yZWdpc3RlcignYWRkc3VibW9kdWxlZGlhbG9nJywgZnVuY3Rpb24oYXJncykge1xuICByZXR1cm4gbmV3IEFkZFN1Ym1vZHVsZURpYWxvZ1ZpZXdNb2RlbCgpO1xufSk7XG5cbmNvbXBvbmVudHMucmVnaXN0ZXIoJ3Byb21wdGRpYWxvZycsIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgcmV0dXJuIG5ldyBQcm9tcHREaWFsb2dWaWV3TW9kZWwoYXJncy50aXRsZSwgYXJncy5kZXRhaWxzKTtcbn0pO1xuXG5jb21wb25lbnRzLnJlZ2lzdGVyKCd5ZXNub2RpYWxvZycsIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgcmV0dXJuIG5ldyBZZXNOb0RpYWxvZ1ZpZXdNb2RlbChhcmdzLnRpdGxlLCBhcmdzLmRldGFpbHMpO1xufSk7XG5cbmNvbXBvbmVudHMucmVnaXN0ZXIoJ3llc25vbXV0ZWRpYWxvZycsIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgcmV0dXJuIG5ldyBZZXNOb011dGVEaWFsb2dWaWV3TW9kZWwoYXJncy50aXRsZSwgYXJncy5kZXRhaWxzKTtcbn0pO1xuXG5jb21wb25lbnRzLnJlZ2lzdGVyKCdUb29NYW55RmlsZXNEaWFsb2dWaWV3TW9kZWwnLCBmdW5jdGlvbihhcmdzKSB7XG4gIHJldHVybiBuZXcgVG9vTWFueUZpbGVzRGlhbG9nVmlld01vZGVsKGFyZ3MudGl0bGUsIGFyZ3MuZGV0YWlscyk7XG59KTtcblxuZnVuY3Rpb24gRGlhbG9nVmlld01vZGVsKHRpdGxlKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5vbmNsb3NlID0gbnVsbDtcbiAgdGhpcy50aXRsZSA9IGtvLm9ic2VydmFibGUodGl0bGUpO1xuICB0aGlzLnRhRGlhbG9nTmFtZSA9IGtvLm9ic2VydmFibGUoJycpO1xuICB0aGlzLmNsb3NlUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICBzZWxmLm9uY2xvc2UgPSByZXNvbHZlO1xuICB9KTtcbn1cbkRpYWxvZ1ZpZXdNb2RlbC5wcm90b3R5cGUuY2xvc2VUaGVuID0gZnVuY3Rpb24odGhlbkZ1bmMpIHtcbiAgdGhpcy5jbG9zZVByb21pc2UgPSB0aGlzLmNsb3NlUHJvbWlzZS50aGVuKHRoZW5GdW5jKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5EaWFsb2dWaWV3TW9kZWwucHJvdG90eXBlLnNldENsb3NlciA9IGZ1bmN0aW9uKGNsb3Nlcikge1xuICB0aGlzLmNsb3NlID0gY2xvc2VyO1xufVxuRGlhbG9nVmlld01vZGVsLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKSB7XG4gIHByb2dyYW1FdmVudHMuZGlzcGF0Y2goeyBldmVudDogJ3JlcXVlc3Qtc2hvdy1kaWFsb2cnLCBkaWFsb2c6IHRoaXMgfSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBGb3JtRGlhbG9nVmlld01vZGVsKHRpdGxlKSB7XG4gIERpYWxvZ1ZpZXdNb2RlbC5jYWxsKHRoaXMsIHRpdGxlKTtcbiAgdGhpcy5pdGVtcyA9IGtvLm9ic2VydmFibGUoW10pO1xuICB0aGlzLmlzU3VibWl0dGVkID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gIHRoaXMuc2hvd0NhbmNlbCA9IGtvLm9ic2VydmFibGUodHJ1ZSk7XG59XG5pbmhlcml0cyhGb3JtRGlhbG9nVmlld01vZGVsLCBEaWFsb2dWaWV3TW9kZWwpO1xuRm9ybURpYWxvZ1ZpZXdNb2RlbC5wcm90b3R5cGUudGVtcGxhdGUgPSAnZm9ybURpYWxvZyc7XG5Gb3JtRGlhbG9nVmlld01vZGVsLnByb3RvdHlwZS5zdWJtaXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pc1N1Ym1pdHRlZCh0cnVlKTtcbiAgdGhpcy5jbG9zZSgpO1xufVxuXG5cbmZ1bmN0aW9uIENyZWRlbnRpYWxzRGlhbG9nVmlld01vZGVsKCkge1xuICBGb3JtRGlhbG9nVmlld01vZGVsLmNhbGwodGhpcyk7XG4gIHRoaXMudGl0bGUoJ1JlbW90ZSByZXF1aXJlcyBhdXRoZW50aWNhdGlvbicpO1xuICB0aGlzLnRhRGlhbG9nTmFtZSgnY3JlZGVudGlhbHMtZGlhbG9nJyk7XG4gIHRoaXMuc2hvd0NhbmNlbChmYWxzZSk7XG4gIHRoaXMudXNlcm5hbWUgPSBrby5vYnNlcnZhYmxlKCk7XG4gIHRoaXMucGFzc3dvcmQgPSBrby5vYnNlcnZhYmxlKCk7XG4gIHRoaXMuaXRlbXMoW1xuICAgIHsgbmFtZTogJ1VzZXJuYW1lJywgdmFsdWU6IHRoaXMudXNlcm5hbWUsIHBsYWNlaG9sZGVyOiAnVXNlcm5hbWUnLCB0eXBlOiAndGV4dCcsIGF1dG9mb2N1czogdHJ1ZSwgdGFOYW1lOiAndXNlcm5hbWUnIH0sXG4gICAgeyBuYW1lOiAnUGFzc3dvcmQnLCB2YWx1ZTogdGhpcy5wYXNzd29yZCwgcGxhY2Vob2xkZXI6ICdQYXNzd29yZCcsIHR5cGU6ICdwYXNzd29yZCcsIGF1dG9mb2N1czogZmFsc2UsIHRhTmFtZTogJ3Bhc3N3b3JkJyB9XG4gIF0pO1xufVxuaW5oZXJpdHMoQ3JlZGVudGlhbHNEaWFsb2dWaWV3TW9kZWwsIEZvcm1EaWFsb2dWaWV3TW9kZWwpO1xuXG5cbmZ1bmN0aW9uIEFkZFJlbW90ZURpYWxvZ1ZpZXdNb2RlbCgpIHtcbiAgRm9ybURpYWxvZ1ZpZXdNb2RlbC5jYWxsKHRoaXMpO1xuICB0aGlzLnRpdGxlKCdBZGQgbmV3IHJlbW90ZScpO1xuICB0aGlzLnRhRGlhbG9nTmFtZSgnYWRkLXJlbW90ZScpO1xuICB0aGlzLm5hbWUgPSBrby5vYnNlcnZhYmxlKCk7XG4gIHRoaXMudXJsID0ga28ub2JzZXJ2YWJsZSgpO1xuICB0aGlzLml0ZW1zKFtcbiAgICB7IG5hbWU6ICdOYW1lJywgdmFsdWU6IHRoaXMubmFtZSwgcGxhY2Vob2xkZXI6ICdOYW1lJywgdHlwZTogJ3RleHQnLCBhdXRvZm9jdXM6IHRydWUsIHRhTmFtZTogJ25hbWUnIH0sXG4gICAgeyBuYW1lOiAnVXJsJywgdmFsdWU6IHRoaXMudXJsLCBwbGFjZWhvbGRlcjogJ1VybCcsIHR5cGU6ICd0ZXh0JywgYXV0b2ZvY3VzOiBmYWxzZSwgdGFOYW1lOiAndXJsJyB9XG4gIF0pO1xufVxuaW5oZXJpdHMoQWRkUmVtb3RlRGlhbG9nVmlld01vZGVsLCBGb3JtRGlhbG9nVmlld01vZGVsKTtcblxuZnVuY3Rpb24gQWRkU3VibW9kdWxlRGlhbG9nVmlld01vZGVsKCkge1xuICBGb3JtRGlhbG9nVmlld01vZGVsLmNhbGwodGhpcyk7XG4gIHRoaXMudGl0bGUoJ0FkZCBuZXcgc3VibW9kdWxlJyk7XG4gIHRoaXMudGFEaWFsb2dOYW1lKCdhZGQtc3VibW9kdWxlJyk7XG4gIHRoaXMucGF0aCA9IGtvLm9ic2VydmFibGUoKTtcbiAgdGhpcy51cmwgPSBrby5vYnNlcnZhYmxlKCk7XG4gIHRoaXMuaXRlbXMoW1xuICAgIHsgbmFtZTogJ1BhdGgnLCB2YWx1ZTogdGhpcy5wYXRoLCBwbGFjZWhvbGRlcjogJ1BhdGgnLCB0eXBlOiAndGV4dCcsIGF1dG9mb2N1czogdHJ1ZSwgdGFOYW1lOiAncGF0aCcgfSxcbiAgICB7IG5hbWU6ICdVcmwnLCB2YWx1ZTogdGhpcy51cmwsIHBsYWNlaG9sZGVyOiAnVXJsJywgdHlwZTogJ3RleHQnLCBhdXRvZm9jdXM6IGZhbHNlLCB0YU5hbWU6ICd1cmwnIH1cbiAgXSk7XG59XG5pbmhlcml0cyhBZGRTdWJtb2R1bGVEaWFsb2dWaWV3TW9kZWwsIEZvcm1EaWFsb2dWaWV3TW9kZWwpO1xuXG5mdW5jdGlvbiBQcm9tcHREaWFsb2dWaWV3TW9kZWwodGl0bGUsIGRldGFpbHMpIHtcbiAgRGlhbG9nVmlld01vZGVsLmNhbGwodGhpcywgdGl0bGUpO1xuICB0aGlzLmFsdGVybmF0aXZlcyA9IGtvLm9ic2VydmFibGUoKTtcbiAgdGhpcy5kZXRhaWxzID0ga28ub2JzZXJ2YWJsZShkZXRhaWxzKTtcbn1cbmluaGVyaXRzKFByb21wdERpYWxvZ1ZpZXdNb2RlbCwgRGlhbG9nVmlld01vZGVsKTtcblByb21wdERpYWxvZ1ZpZXdNb2RlbC5wcm90b3R5cGUudGVtcGxhdGUgPSAncHJvbXB0JztcblxuZnVuY3Rpb24gWWVzTm9EaWFsb2dWaWV3TW9kZWwodGl0bGUsIGRldGFpbHMpIHtcbiAgUHJvbXB0RGlhbG9nVmlld01vZGVsLmNhbGwodGhpcywgdGl0bGUsIGRldGFpbHMpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMudGFEaWFsb2dOYW1lKCd5ZXMtbm8tZGlhbG9nJyk7XG4gIHRoaXMucmVzdWx0ID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gIHRoaXMuYWx0ZXJuYXRpdmVzKFtcbiAgICB7IGxhYmVsOiAnWWVzJywgcHJpbWFyeTogdHJ1ZSwgdGFJZDogJ3llcycsIGNsaWNrOiBmdW5jdGlvbigpIHsgc2VsZi5yZXN1bHQodHJ1ZSk7IHNlbGYuY2xvc2UoKTsgfSB9LFxuICAgIHsgbGFiZWw6ICdObycsIHByaW1hcnk6IGZhbHNlLCB0YUlkOiAnbm8nLCBjbGljazogZnVuY3Rpb24oKSB7IHNlbGYucmVzdWx0KGZhbHNlKTsgc2VsZi5jbG9zZSgpOyB9IH0sXG4gIF0pO1xufVxuaW5oZXJpdHMoWWVzTm9EaWFsb2dWaWV3TW9kZWwsIFByb21wdERpYWxvZ1ZpZXdNb2RlbCk7XG5cbmZ1bmN0aW9uIFllc05vTXV0ZURpYWxvZ1ZpZXdNb2RlbCh0aXRsZSwgZGV0YWlscykge1xuICBQcm9tcHREaWFsb2dWaWV3TW9kZWwuY2FsbCh0aGlzLCB0aXRsZSwgZGV0YWlscyk7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy50YURpYWxvZ05hbWUoJ3llcy1uby1tdXRlLWRpYWxvZycpO1xuICB0aGlzLnJlc3VsdCA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICB0aGlzLmFsdGVybmF0aXZlcyhbXG4gICAgeyBsYWJlbDogJ1llcycsIHByaW1hcnk6IHRydWUsIHRhSWQ6ICd5ZXMnLCBjbGljazogZnVuY3Rpb24oKSB7IHNlbGYucmVzdWx0KHRydWUpOyBzZWxmLmNsb3NlKCk7IH0gfSxcbiAgICB7IGxhYmVsOiAnWWVzIGFuZCBtdXRlIGZvciBhd2hpbGUnLCBwcmltYXJ5OiBmYWxzZSwgdGFJZDogJ211dGUnLCBjbGljazogZnVuY3Rpb24oKSB7IHNlbGYucmVzdWx0KFwibXV0ZVwiKTsgc2VsZi5jbG9zZSgpOyB9IH0sXG4gICAgeyBsYWJlbDogJ05vJywgcHJpbWFyeTogZmFsc2UsIHRhSWQ6ICdubycsIGNsaWNrOiBmdW5jdGlvbigpIHsgc2VsZi5yZXN1bHQoZmFsc2UpOyBzZWxmLmNsb3NlKCk7IH0gfVxuICBdKTtcbn1cbmluaGVyaXRzKFllc05vTXV0ZURpYWxvZ1ZpZXdNb2RlbCwgUHJvbXB0RGlhbG9nVmlld01vZGVsKTtcblxuZnVuY3Rpb24gVG9vTWFueUZpbGVzRGlhbG9nVmlld01vZGVsKHRpdGxlLCBkZXRhaWxzKSB7XG4gIFByb21wdERpYWxvZ1ZpZXdNb2RlbC5jYWxsKHRoaXMsIHRpdGxlLCBkZXRhaWxzKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLnRhRGlhbG9nTmFtZSgneWVzLW5vLWRpYWxvZycpO1xuICB0aGlzLnJlc3VsdCA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICB0aGlzLmFsdGVybmF0aXZlcyhbXG4gICAgeyBsYWJlbDogXCJEb24ndCBsb2FkXCIsIHByaW1hcnk6IHRydWUsIHRhSWQ6ICdub0xvYWQnLCBjbGljazogZnVuY3Rpb24oKSB7IHNlbGYucmVzdWx0KGZhbHNlKTsgc2VsZi5jbG9zZSgpOyB9IH0sXG4gICAgeyBsYWJlbDogJ0xvYWQgYW55d2F5JywgcHJpbWFyeTogZmFsc2UsIHRhSWQ6ICdsb2FkQW55d2F5JywgY2xpY2s6IGZ1bmN0aW9uKCkgeyBzZWxmLnJlc3VsdCh0cnVlKTsgc2VsZi5jbG9zZSgpOyB9IH0sXG4gIF0pO1xufVxuaW5oZXJpdHMoVG9vTWFueUZpbGVzRGlhbG9nVmlld01vZGVsLCBQcm9tcHREaWFsb2dWaWV3TW9kZWwpO1xuIl19
