(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var ko = require('knockout');
var CommitLineDiff = require('./commitlinediff.js').CommitLineDiff;
var components = require('ungit-components');

components.register('commitDiff', function(args) {
  return new CommitDiff(args);
});

var CommitDiff = function(args) {
  this.commitLineDiffs = ko.observableArray();
  this.sha1 = args.sha1;

  // parent components can provide their own buttons (e.g. staging component)
  this.showDiffButtons = ko.observable(!args.textDiffType);
  this.textDiffType = args.textDiffType = args.textDiffType || components.create('textdiff.type');
  this.wordWrap = args.wordWrap = args.wordWrap || components.create('textdiff.wordwrap');
  this.whiteSpace = args.whiteSpace = args.whiteSpace || components.create('textdiff.whitespace');

  args.fileLineDiffs.shift();  // remove first line that has "total"
  this.loadFileLineDiffs(args);
};

CommitDiff.prototype.updateNode = function(parentElement) {
  ko.renderTemplate('commitdiff', this, {}, parentElement);
};

CommitDiff.prototype.loadFileLineDiffs = function(args) {
  var tempCommitLineDiffs = [];
  var lineDiffLength = this.commitLineDiffs().length;

  args.fileLineDiffs.slice(lineDiffLength === 0 ? 0 : lineDiffLength + 1, this.maxNumberOfFilesShown).forEach(function(fileLineDiff) {
    tempCommitLineDiffs.push(new CommitLineDiff(args, fileLineDiff));
  });

  this.commitLineDiffs(this.commitLineDiffs().concat(tempCommitLineDiffs));
}

},{"./commitlinediff.js":2,"knockout":"knockout","ungit-components":"ungit-components"}],2:[function(require,module,exports){
var ko = require('knockout');
var components = require('ungit-components');
var inherits = require('util').inherits;
var programEvents = require('ungit-program-events');

var CommitLineDiff = function(args, fileLineDiff) {
  this.added = ko.observable(fileLineDiff[0]);
  this.removed = ko.observable(fileLineDiff[1]);
  this.fileName = ko.observable(fileLineDiff[2]);
  this.fileType = fileLineDiff[3];
  this.isShowingDiffs = ko.observable(false);
  this.repoPath = args.repoPath;
  this.server = args.server;
  this.sha1 = args.sha1;
  this.textDiffType = args.textDiffType;
  this.wordWrap = args.wordWrap;
  this.whiteSpace = args.whiteSpace;
  this.specificDiff = ko.observable(this.getSpecificDiff());
};
exports.CommitLineDiff = CommitLineDiff;

CommitLineDiff.prototype.getSpecificDiff = function() {
  return components.create(this.fileType + 'diff', {
    filename: this.fileName(),
    repoPath: this.repoPath,
    server: this.server,
    sha1: this.sha1,
    textDiffType: this.textDiffType,
    isShowingDiffs: this.isShowingDiffs,
    whiteSpace: this.whiteSpace,
    wordWrap: this.wordWrap
  });
}

CommitLineDiff.prototype.fileNameClick = function() {
  this.isShowingDiffs(!this.isShowingDiffs());
  programEvents.dispatch({ event: 'graph-render' });
};

},{"knockout":"knockout","ungit-components":"ungit-components","ungit-program-events":"ungit-program-events","util":undefined}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJjb21wb25lbnRzL2NvbW1pdGRpZmYvY29tbWl0ZGlmZi5qcyIsImNvbXBvbmVudHMvY29tbWl0ZGlmZi9jb21taXRsaW5lZGlmZi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIGtvID0gcmVxdWlyZSgna25vY2tvdXQnKTtcbnZhciBDb21taXRMaW5lRGlmZiA9IHJlcXVpcmUoJy4vY29tbWl0bGluZWRpZmYuanMnKS5Db21taXRMaW5lRGlmZjtcbnZhciBjb21wb25lbnRzID0gcmVxdWlyZSgndW5naXQtY29tcG9uZW50cycpO1xuXG5jb21wb25lbnRzLnJlZ2lzdGVyKCdjb21taXREaWZmJywgZnVuY3Rpb24oYXJncykge1xuICByZXR1cm4gbmV3IENvbW1pdERpZmYoYXJncyk7XG59KTtcblxudmFyIENvbW1pdERpZmYgPSBmdW5jdGlvbihhcmdzKSB7XG4gIHRoaXMuY29tbWl0TGluZURpZmZzID0ga28ub2JzZXJ2YWJsZUFycmF5KCk7XG4gIHRoaXMuc2hhMSA9IGFyZ3Muc2hhMTtcblxuICAvLyBwYXJlbnQgY29tcG9uZW50cyBjYW4gcHJvdmlkZSB0aGVpciBvd24gYnV0dG9ucyAoZS5nLiBzdGFnaW5nIGNvbXBvbmVudClcbiAgdGhpcy5zaG93RGlmZkJ1dHRvbnMgPSBrby5vYnNlcnZhYmxlKCFhcmdzLnRleHREaWZmVHlwZSk7XG4gIHRoaXMudGV4dERpZmZUeXBlID0gYXJncy50ZXh0RGlmZlR5cGUgPSBhcmdzLnRleHREaWZmVHlwZSB8fCBjb21wb25lbnRzLmNyZWF0ZSgndGV4dGRpZmYudHlwZScpO1xuICB0aGlzLndvcmRXcmFwID0gYXJncy53b3JkV3JhcCA9IGFyZ3Mud29yZFdyYXAgfHwgY29tcG9uZW50cy5jcmVhdGUoJ3RleHRkaWZmLndvcmR3cmFwJyk7XG4gIHRoaXMud2hpdGVTcGFjZSA9IGFyZ3Mud2hpdGVTcGFjZSA9IGFyZ3Mud2hpdGVTcGFjZSB8fCBjb21wb25lbnRzLmNyZWF0ZSgndGV4dGRpZmYud2hpdGVzcGFjZScpO1xuXG4gIGFyZ3MuZmlsZUxpbmVEaWZmcy5zaGlmdCgpOyAgLy8gcmVtb3ZlIGZpcnN0IGxpbmUgdGhhdCBoYXMgXCJ0b3RhbFwiXG4gIHRoaXMubG9hZEZpbGVMaW5lRGlmZnMoYXJncyk7XG59O1xuXG5Db21taXREaWZmLnByb3RvdHlwZS51cGRhdGVOb2RlID0gZnVuY3Rpb24ocGFyZW50RWxlbWVudCkge1xuICBrby5yZW5kZXJUZW1wbGF0ZSgnY29tbWl0ZGlmZicsIHRoaXMsIHt9LCBwYXJlbnRFbGVtZW50KTtcbn07XG5cbkNvbW1pdERpZmYucHJvdG90eXBlLmxvYWRGaWxlTGluZURpZmZzID0gZnVuY3Rpb24oYXJncykge1xuICB2YXIgdGVtcENvbW1pdExpbmVEaWZmcyA9IFtdO1xuICB2YXIgbGluZURpZmZMZW5ndGggPSB0aGlzLmNvbW1pdExpbmVEaWZmcygpLmxlbmd0aDtcblxuICBhcmdzLmZpbGVMaW5lRGlmZnMuc2xpY2UobGluZURpZmZMZW5ndGggPT09IDAgPyAwIDogbGluZURpZmZMZW5ndGggKyAxLCB0aGlzLm1heE51bWJlck9mRmlsZXNTaG93bikuZm9yRWFjaChmdW5jdGlvbihmaWxlTGluZURpZmYpIHtcbiAgICB0ZW1wQ29tbWl0TGluZURpZmZzLnB1c2gobmV3IENvbW1pdExpbmVEaWZmKGFyZ3MsIGZpbGVMaW5lRGlmZikpO1xuICB9KTtcblxuICB0aGlzLmNvbW1pdExpbmVEaWZmcyh0aGlzLmNvbW1pdExpbmVEaWZmcygpLmNvbmNhdCh0ZW1wQ29tbWl0TGluZURpZmZzKSk7XG59XG4iLCJ2YXIga28gPSByZXF1aXJlKCdrbm9ja291dCcpO1xudmFyIGNvbXBvbmVudHMgPSByZXF1aXJlKCd1bmdpdC1jb21wb25lbnRzJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCd1dGlsJykuaW5oZXJpdHM7XG52YXIgcHJvZ3JhbUV2ZW50cyA9IHJlcXVpcmUoJ3VuZ2l0LXByb2dyYW0tZXZlbnRzJyk7XG5cbnZhciBDb21taXRMaW5lRGlmZiA9IGZ1bmN0aW9uKGFyZ3MsIGZpbGVMaW5lRGlmZikge1xuICB0aGlzLmFkZGVkID0ga28ub2JzZXJ2YWJsZShmaWxlTGluZURpZmZbMF0pO1xuICB0aGlzLnJlbW92ZWQgPSBrby5vYnNlcnZhYmxlKGZpbGVMaW5lRGlmZlsxXSk7XG4gIHRoaXMuZmlsZU5hbWUgPSBrby5vYnNlcnZhYmxlKGZpbGVMaW5lRGlmZlsyXSk7XG4gIHRoaXMuZmlsZVR5cGUgPSBmaWxlTGluZURpZmZbM107XG4gIHRoaXMuaXNTaG93aW5nRGlmZnMgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgdGhpcy5yZXBvUGF0aCA9IGFyZ3MucmVwb1BhdGg7XG4gIHRoaXMuc2VydmVyID0gYXJncy5zZXJ2ZXI7XG4gIHRoaXMuc2hhMSA9IGFyZ3Muc2hhMTtcbiAgdGhpcy50ZXh0RGlmZlR5cGUgPSBhcmdzLnRleHREaWZmVHlwZTtcbiAgdGhpcy53b3JkV3JhcCA9IGFyZ3Mud29yZFdyYXA7XG4gIHRoaXMud2hpdGVTcGFjZSA9IGFyZ3Mud2hpdGVTcGFjZTtcbiAgdGhpcy5zcGVjaWZpY0RpZmYgPSBrby5vYnNlcnZhYmxlKHRoaXMuZ2V0U3BlY2lmaWNEaWZmKCkpO1xufTtcbmV4cG9ydHMuQ29tbWl0TGluZURpZmYgPSBDb21taXRMaW5lRGlmZjtcblxuQ29tbWl0TGluZURpZmYucHJvdG90eXBlLmdldFNwZWNpZmljRGlmZiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gY29tcG9uZW50cy5jcmVhdGUodGhpcy5maWxlVHlwZSArICdkaWZmJywge1xuICAgIGZpbGVuYW1lOiB0aGlzLmZpbGVOYW1lKCksXG4gICAgcmVwb1BhdGg6IHRoaXMucmVwb1BhdGgsXG4gICAgc2VydmVyOiB0aGlzLnNlcnZlcixcbiAgICBzaGExOiB0aGlzLnNoYTEsXG4gICAgdGV4dERpZmZUeXBlOiB0aGlzLnRleHREaWZmVHlwZSxcbiAgICBpc1Nob3dpbmdEaWZmczogdGhpcy5pc1Nob3dpbmdEaWZmcyxcbiAgICB3aGl0ZVNwYWNlOiB0aGlzLndoaXRlU3BhY2UsXG4gICAgd29yZFdyYXA6IHRoaXMud29yZFdyYXBcbiAgfSk7XG59XG5cbkNvbW1pdExpbmVEaWZmLnByb3RvdHlwZS5maWxlTmFtZUNsaWNrID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaXNTaG93aW5nRGlmZnMoIXRoaXMuaXNTaG93aW5nRGlmZnMoKSk7XG4gIHByb2dyYW1FdmVudHMuZGlzcGF0Y2goeyBldmVudDogJ2dyYXBoLXJlbmRlcicgfSk7XG59O1xuIl19
